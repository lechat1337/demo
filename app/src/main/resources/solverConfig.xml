<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<solver xmlns="https://www.optaplanner.org/xsd/solver">
    <environmentMode>REPRODUCIBLE</environmentMode>
    <solutionClass>demo.model.FacilityLocationProblem</solutionClass>
    <entityClass>demo.model.Customer</entityClass>

    <scoreDirectorFactory>
        <constraintProviderClass>demo.model.FLPConstraingProvider</constraintProviderClass>
        <initializingScoreTrend>ONLY_DOWN</initializingScoreTrend>
<!--        <assertionScoreDirectorFactory>-->
<!--            <easyScoreCalculatorClass>demo.model.FPLScoreCalculator</easyScoreCalculatorClass>-->
<!--        </assertionScoreDirectorFactory>-->
    </scoreDirectorFactory>

    <termination>
        <minutesSpentLimit>5</minutesSpentLimit>
    </termination>

    <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
    </constructionHeuristic>

    <localSearch>
        <termination>
            <terminationCompositionStyle>OR</terminationCompositionStyle>
            <unimprovedSecondsSpentLimit>110</unimprovedSecondsSpentLimit>
            <unimprovedScoreDifferenceThreshold>0hard/100soft</unimprovedScoreDifferenceThreshold>
        </termination>
        <localSearchType>HILL_CLIMBING</localSearchType>
        <unionMoveSelector>
            <changeMoveSelector>
                <entitySelector id="entitySelector1"/>
                <valueSelector>
                    <nearbySelection>
                        <originEntitySelector mimicSelectorRef="entitySelector1"/>
                        <nearbyDistanceMeterClass>demo.model.CustomerFacilityNearbyDistanceMeter</nearbyDistanceMeterClass>
                        <parabolicDistributionSizeMaximum>50</parabolicDistributionSizeMaximum>
                    </nearbySelection>
                </valueSelector>
            </changeMoveSelector>
            <swapMoveSelector>
                <entitySelector id="entitySelector2"/>
                <secondaryEntitySelector>
                    <nearbySelection>
                        <originEntitySelector mimicSelectorRef="entitySelector2"/>
                        <nearbyDistanceMeterClass>demo.model.CustomerCustomerNearbyDistanceMeter</nearbyDistanceMeterClass>
                        <parabolicDistributionSizeMaximum>50</parabolicDistributionSizeMaximum>
                    </nearbySelection>
                </secondaryEntitySelector>
            </swapMoveSelector>
        </unionMoveSelector>
    </localSearch>
    <localSearch>
        <termination>
            <terminationCompositionStyle>OR</terminationCompositionStyle>
            <unimprovedSecondsSpentLimit>110</unimprovedSecondsSpentLimit>
            <unimprovedScoreDifferenceThreshold>0hard/100soft</unimprovedScoreDifferenceThreshold>
        </termination>
        <localSearchType>TABU_SEARCH</localSearchType>
        <unionMoveSelector>
            <changeMoveSelector>
                <entitySelector id="entitySelector1"/>
                <valueSelector>
                    <nearbySelection>
                        <originEntitySelector mimicSelectorRef="entitySelector1"/>
                        <nearbyDistanceMeterClass>demo.model.CustomerFacilityNearbyDistanceMeter</nearbyDistanceMeterClass>
                        <parabolicDistributionSizeMaximum>40</parabolicDistributionSizeMaximum>
                    </nearbySelection>
                </valueSelector>
            </changeMoveSelector>
            <swapMoveSelector>
                <entitySelector id="entitySelector2"/>
                <secondaryEntitySelector>
                    <nearbySelection>
                        <originEntitySelector mimicSelectorRef="entitySelector2"/>
                        <nearbyDistanceMeterClass>demo.model.CustomerCustomerNearbyDistanceMeter</nearbyDistanceMeterClass>
                        <parabolicDistributionSizeMaximum>40</parabolicDistributionSizeMaximum>
                    </nearbySelection>
                </secondaryEntitySelector>
            </swapMoveSelector>
            <pillarChangeMoveSelector>
            </pillarChangeMoveSelector>
        </unionMoveSelector>
    </localSearch>
</solver>