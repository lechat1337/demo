<?xml version="1.0" encoding="UTF-8"?>
<plannerBenchmark xmlns="https://www.optaplanner.org/xsd/benchmark" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="https://www.optaplanner.org/xsd/benchmark https://www.optaplanner.org/xsd/benchmark/benchmark.xsd">
    <benchmarkDirectory>local/benchmarkReport</benchmarkDirectory>

    <inheritedSolverBenchmark>
        <solver>
            <environmentMode>REPRODUCIBLE</environmentMode>
            <solutionClass>demo.model.FacilityLocationProblem</solutionClass>
            <entityClass>demo.model.Customer</entityClass>
            <scoreDirectorFactory>
                <constraintProviderClass>demo.model.FLPConstraingProvider</constraintProviderClass>
                <initializingScoreTrend>ONLY_DOWN</initializingScoreTrend>
<!--                <assertionScoreDirectorFactory>-->
<!--                    <easyScoreCalculatorClass>demo.model.FPLScoreCalculator</easyScoreCalculatorClass>-->
<!--                </assertionScoreDirectorFactory>-->
            </scoreDirectorFactory>
<!--            <termination>-->
<!--                <minutesSpentLimit>10</minutesSpentLimit>-->
<!--            </termination>-->
            <constructionHeuristic>
                <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>

            </constructionHeuristic>

            <localSearch>

                <termination>
<!--                    <terminationCompositionStyle>OR</terminationCompositionStyle>-->
<!--                    <unimprovedSecondsSpentLimit>90</unimprovedSecondsSpentLimit>-->
<!--                    <unimprovedScoreDifferenceThreshold>0hard/900soft</unimprovedScoreDifferenceThreshold>-->
<!--                    <bestScoreLimit>0hard/-2100soft</bestScoreLimit>-->
                    <secondsSpentLimit>10</secondsSpentLimit>
                </termination>
                <localSearchType>LATE_ACCEPTANCE</localSearchType>


<!--                <localSearchType>TABU_SEARCH</localSearchType>-->
<!--                <unionMoveSelector>-->
<!--                    <changeMoveSelector>-->
<!--                        <entitySelector id="entitySelector1"/>-->
<!--                        <valueSelector>-->
<!--                            <nearbySelection>-->
<!--                                <originEntitySelector mimicSelectorRef="entitySelector1"/>-->
<!--                                <nearbyDistanceMeterClass>demo.model.CustomerFacilityNearbyDistanceMeter</nearbyDistanceMeterClass>-->
<!--                                <parabolicDistributionSizeMaximum>20</parabolicDistributionSizeMaximum>-->
<!--                            </nearbySelection>-->
<!--                        </valueSelector>-->
<!--                    </changeMoveSelector>-->
<!--                    <swapMoveSelector>-->
<!--                        <entitySelector id="entitySelector2"/>-->
<!--                        <secondaryEntitySelector>-->
<!--                            <nearbySelection>-->
<!--                                <originEntitySelector mimicSelectorRef="entitySelector2"/>-->
<!--                                <nearbyDistanceMeterClass>demo.model.CustomerCustomerNearbyDistanceMeter</nearbyDistanceMeterClass>-->
<!--                                <parabolicDistributionSizeMaximum>20</parabolicDistributionSizeMaximum>-->
<!--                            </nearbySelection>-->
<!--                        </secondaryEntitySelector>-->
<!--                    </swapMoveSelector>-->
<!--                </unionMoveSelector>-->
            </localSearch>

        </solver>
        <problemBenchmarks>

            <solutionFileIOClass>demo.exec.FacilityLocationProblemFileIO</solutionFileIOClass>
            <writeOutputSolutionEnabled>true</writeOutputSolutionEnabled>
            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_25_2</inputSolutionFile>
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_50_6</inputSolutionFile>-->
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_100_7</inputSolutionFile>-->
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_100_1</inputSolutionFile>-->
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_200_7</inputSolutionFile>-->
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_500_7</inputSolutionFile>-->
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_1000_2</inputSolutionFile>-->
<!--            <inputSolutionFile>C:\Users\aleksejs\coursera\demo\app\src\main\data\fl_2000_2</inputSolutionFile>-->
            <problemStatisticType>STEP_SCORE</problemStatisticType>
        </problemBenchmarks>

    </inheritedSolverBenchmark>
    <solverBenchmark>
        <name>swap MOVE selector</name>
        <solver>

            <localSearch>
                <termination>
                    <minutesSpentLimit>2</minutesSpentLimit>
                </termination>
                <!--                <localSearchType>TABU_SEARCH</localSearchType>-->
                    <swapMoveSelector>
                    </swapMoveSelector>


                <acceptor>
                    <entityTabuRatio>0.021</entityTabuRatio>
                </acceptor>
                <forager>
                    <acceptedCountLimit>20</acceptedCountLimit>
<!--                    <finalistPodiumType>STRATEGIC_OSCILLATION</finalistPodiumType>-->
                </forager>
            </localSearch>
        </solver>
    </solverBenchmark>


    <solverBenchmark>
        <name>pillar change MOVE selector</name>
        <solver>

            <localSearch>
                <termination>
                    <minutesSpentLimit>2</minutesSpentLimit>
                </termination>
                <!--                <localSearchType>TABU_SEARCH</localSearchType>-->
                <pillarChangeMoveSelector>
                </pillarChangeMoveSelector>


                <acceptor>
                    <entityTabuRatio>0.021</entityTabuRatio>
                </acceptor>
                <forager>
                    <acceptedCountLimit>100</acceptedCountLimit>
                    <!--                    <finalistPodiumType>STRATEGIC_OSCILLATION</finalistPodiumType>-->
                </forager>
            </localSearch>
        </solver>
    </solverBenchmark>


    <solverBenchmark>
        <name>pillar and swap MOVE selector</name>
        <solver>

            <localSearch>
                <termination>
                    <minutesSpentLimit>2</minutesSpentLimit>
                </termination>
                <!--                <localSearchType>TABU_SEARCH</localSearchType>-->
                <unionMoveSelector>
                    <swapMoveSelector>
                    </swapMoveSelector>
                    <pillarChangeMoveSelector>
                    </pillarChangeMoveSelector>

                </unionMoveSelector>


                <acceptor>
                    <entityTabuRatio>0.021</entityTabuRatio>
                </acceptor>
                <forager>
                    <acceptedCountLimit>100</acceptedCountLimit>
                    <!--                    <finalistPodiumType>STRATEGIC_OSCILLATION</finalistPodiumType>-->
                </forager>
            </localSearch>
        </solver>
    </solverBenchmark>


    <!--    <solverBenchmark>-->
<!--        <name>simulated annealing300</name>-->
<!--        <solver>-->

<!--            <localSearch>-->
<!--                <termination>-->
<!--                    <minutesSpentLimit>2</minutesSpentLimit>-->
<!--                </termination>-->
<!--&lt;!&ndash;                <localSearchType>TABU_SEARCH</localSearchType>&ndash;&gt;-->
<!--                <acceptor>-->
<!--&lt;!&ndash;                    <simulatedAnnealingStartingTemperature>20hard/300soft</simulatedAnnealingStartingTemperature>&ndash;&gt;-->
<!--                    <entityTabuRatio>0.0225</entityTabuRatio>-->
<!--                    <valueTabuSize>7</valueTabuSize>-->
<!--                </acceptor>-->
<!--                <forager>-->
<!--                    <acceptedCountLimit>1</acceptedCountLimit>-->
<!--&lt;!&ndash;                    <finalistPodiumType>STRATEGIC_OSCILLATION_BY_LEVEL</finalistPodiumType>&ndash;&gt;-->
<!--                </forager>-->
<!--            </localSearch>-->
<!--        </solver>-->
<!--    </solverBenchmark>-->

<!--    <solverBenchmark>-->
<!--        <name>simulated annealing200</name>-->
<!--        <solver>-->

<!--            <localSearch>-->
<!--                <termination>-->
<!--                    <minutesSpentLimit>2</minutesSpentLimit>-->
<!--                </termination>-->
<!--&lt;!&ndash;                <localSearchType>TABU_SEARCH</localSearchType>&ndash;&gt;-->
<!--                <acceptor>-->
<!--&lt;!&ndash;                    <simulatedAnnealingStartingTemperature>20hard/200soft</simulatedAnnealingStartingTemperature>&ndash;&gt;-->
<!--                    <entityTabuRatio>0.0225</entityTabuRatio>-->
<!--&lt;!&ndash;                    <valueTabuSize>11</valueTabuSize>&ndash;&gt;-->
<!--                </acceptor>-->
<!--                <forager>-->
<!--                    <acceptedCountLimit>250</acceptedCountLimit>-->
<!--&lt;!&ndash;                    <finalistPodiumType>STRATEGIC_OSCILLATION_BY_LEVEL_ON_BEST_SCORE</finalistPodiumType>&ndash;&gt;-->
<!--                </forager>-->
<!--            </localSearch>-->
<!--        </solver>-->
<!--    </solverBenchmark>-->
<!--    <solverBenchmark>-->
<!--        <name>taboo20</name>-->
<!--        <solver>-->
<!--            <localSearch>-->
<!--                <acceptor>-->
<!--                    <entityTabuSize>20</entityTabuSize>-->
<!--                </acceptor>-->
<!--            </localSearch>-->
<!--        </solver>-->
<!--    </solverBenchmark>-->
<!--    <solverBenchmark>-->
<!--        <name>taboo40</name>-->
<!--        <solver>-->
<!--            <localSearch>-->
<!--                <acceptor>-->
<!--                    <entityTabuSize>40</entityTabuSize>-->
<!--                </acceptor>-->
<!--            </localSearch>-->
<!--        </solver>-->
<!--    </solverBenchmark>-->




</plannerBenchmark>